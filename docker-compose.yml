version: '2'

services:

  php:
    build: ./lamp/php/
    env_file:
    - ./.lamp.env
    volumes:
    - ./:/var/www/html:rw
    restart: "no"

  php56:
    build: ./lamp/php56/
    extends:
      service: php
    ports:
    - "8056:80"
    - "44356:443"

  php70:
    build: ./lamp/php56/
    extends:
      service: php
    ports:
    - "8070:80"
    - "44370:443"

  php71:
    build: ./lamp/php56/
    extends:
      service: php
    ports:
    - "8071:80"
    - "44371:443"

  php72:
    build: ./lamp/php56/
    extends:
      service: php
    ports:
    - "8072:80"
    - "44372:443"

  adminer:
    build:
      context: ./lamp/adminer/
      dockerfile: Dockerfile-adminer
    env_file:
    - ./.lamp.env
    ports:
    - "8080:8080"
    restart: "no"

  mysql:
    image: mysql:5.5
    env_file:
    - ./.lamp.env
    restart: "no"
