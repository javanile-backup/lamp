version: '2'

services:

  php56:
    build: ./lamp/php56/
    env_file:
    - ./.lamp.env
    volumes:
    - ./:/var/www/html:rw
    ports:
    - "8056:80"
    - "44356:443"
    restart: "no"

  php70:
    build: ./lamp/php70/
    extends:
      service: php56
    ports:
    - "8070:80"
    #- "44370:443"

  php71:
    build: ./lamp/php71/
    extends:
      service: php56
    ports:
    - "8071:80"
    #- "44371:443"

  php72:
    build: ./lamp/php72/
    extends:
      service: php56
    ports:
    - "8072:80"
    #- "44372:443"

  adminer55:
    build: ./lamp/adminer/
    env_file:
    - ./.lamp.env
    environment:
    - MYSQL_HOST=mysql55
    ports:
    - "9055:8080"
    restart: "no"

  adminer56:
    extends:
      service: adminer55
    environment:
    - MYSQL_HOST=mysql56
    ports:
    - "9056:8080"

  mysql55:
    image: mysql:5.5
    env_file:
    - ./.lamp.env
    restart: "no"

  mysql56:
    image: mysql:5.6
    extends:
      service: mysql55
